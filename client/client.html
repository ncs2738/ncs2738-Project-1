
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>Nick's sad prototype 1</title>	
</head>

<body>
<h1>Nick's sad prototype :- (</h1>
<section>
	<button id="dateButton">Get the date!</button>
</section>
<hr>

<h2>Date:</h2>
<section id="dateInfo"></section>

<script>
  const sendAjax = (url) => 
  {
    const xhr = new XMLHttpRequest();
    xhr.open('GET', url);
    xhr.setRequestHeader ("Accept", "application/json");
    xhr.onload = () => handleResponse(xhr);
    xhr.send();
  };

  const handleResponse = (xhr) => 
  {
    const obj = JSON.parse(xhr.response);

    console.log(obj);

    dateInfo.innerHTML = `<p>${obj.date}</p>`;
    dateInfo.innerHTML = dateInfo.innerHTML + `\n<p>${obj.kanji}</p>`;
    dateInfo.innerHTML = dateInfo.innerHTML + `\n<p>${obj.reading}</p>`;
    dateInfo.innerHTML = dateInfo.innerHTML + `\n<p>${obj.english}</p>`;
    dateInfo.innerHTML = dateInfo.innerHTML + `\n<p>${obj.translation}</p>`;
  }

  window.onload = () =>
  {
    dateButton.onclick = () => 
    {
      sendAjax("/getDate");
    };		
  }
	</script>

</body>
</html>